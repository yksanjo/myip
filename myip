#!/usr/bin/env python3
"""myip: Show public and local IP addresses."""

import subprocess
import urllib.request
import socket


def get_public_ip():
    """Get public IP from external service."""
    try:
        with urllib.request.urlopen("https://api.ipify.org", timeout=5) as r:
            return r.read().decode().strip()
    except:
        return "unavailable"


def get_local_ip():
    """Get local IP address."""
    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        s.connect(("8.8.8.8", 80))
        ip = s.getsockname()[0]
        s.close()
        return ip
    except:
        return "unavailable"


def get_interface_ip():
    """Get IP from active interface (macOS)."""
    try:
        result = subprocess.run(
            ["ipconfig", "getifaddr", "en0"],
            capture_output=True, text=True
        )
        return result.stdout.strip() or None
    except:
        return None


def main():
    public = get_public_ip()
    local = get_local_ip()

    print(f"\033[1mPublic:\033[0m  {public}")
    print(f"\033[1mLocal:\033[0m   {local}")


if __name__ == "__main__":
    main()
